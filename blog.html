<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - Hossein Razavi</title>

    <!-- Correct Jekyll-safe CSS path -->
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

    <style>
        /* Header buttons */
        .win98-header {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            padding: 10px;
            background-color: #c0c0c0;
            border-bottom: 2px solid #fff;
        }

        .win98-button-header {
            padding: 5px 12px;
            font-family: 'Courier New', monospace;
            border: 2px outset #fff;
            background-color: #e0e0e0;
            cursor: pointer;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #f0f0f0;
        }

        body.dark-mode .win98-window {
            background-color: #2a2a2a;
            border-color: #555;
        }

        body.dark-mode .win98-button,
        body.dark-mode .win98-button-header {
            background-color: #444;
            color: #f0f0f0;
            border-color: #888;
        }

        body.dark-mode a {
            color: #9fcfff;
        }
    </style>
</head>
<body>

<!-- Header with Home & Dark Mode Toggle -->
<div class="win98-header">
    <button class="win98-button-header" onclick="location.href='{{ '/' | relative_url }}'">Home</button>
    <button class="win98-button-header" id="dark-mode-toggle">Dark Mode</button>
</div>

<script>
    // Dark mode toggle
    const darkToggle = document.getElementById('dark-mode-toggle');
    const darkModeKey = 'darkMode';

    // Load saved preference
    if (localStorage.getItem(darkModeKey) === 'enabled') {
        document.body.classList.add('dark-mode');
        darkToggle.textContent = 'Light Mode';
    }

    darkToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem(darkModeKey, isDark ? 'enabled' : 'disabled');
        darkToggle.textContent = isDark ? 'Light Mode' : 'Dark Mode';
    });
</script>

<main class="container" style="padding: 2rem; max-width: 1000px; margin: auto;">

    <!-- Blog Header -->
    <section class="blog-header-window win98-window" style="max-width: 900px; margin: 30px auto;">
        <div class="window-title">My Blog Posts</div>
        <div class="window-content" style="text-align: center;">
            <header>
                <h1>My Blog</h1>
                <p class="subtitle">
                    Insights, projects, and updates on <strong>electrical engineering</strong>,
                    <strong>data science</strong>, and more.
                </p>
            </header>
        </div>
    </section>

    <!-- All Blog Posts from _posts -->
    <section class="all-blog-posts win98-window" style="max-width: 900px; margin: 20px auto;">
        <div class="window-title">All Posts</div>
        <div class="window-content">
            <ul class="post-list" style="list-style:none; padding:0;">

                {% for post in site.posts %}
                <li class="post-card win98-bevel-out" style="margin-bottom:15px; padding:10px;">
                    <article>
                        <h3 class="post-card-title">
                            <a href="{{ post.url | relative_url }}" class="post-title-link">
                                {{ post.title }}
                            </a>
                        </h3>

                        <p class="post-meta">
                            Published on:
                            <time datetime="{{ post.date | date_to_xmlschema }}">
                                {{ post.date | date: "%B %d, %Y" }}
                            </time>
                        </p>

                        <p class="post-excerpt">
                            {{ post.excerpt | strip_html | truncatewords: 30 }}
                        </p>

                        <a href="{{ post.url | relative_url }}" class="win98-button">Read Post â†’</a>
                    </article>
                </li>
                {% endfor %}

            </ul>
        </div>
    </section>

</main>

</body>
</html>
